{{define "layout.html"}}
<!DOCTYPE html>
<html lang="en" data-theme="garden">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{if .Title}}{{.Title}} - {{end}}Gamwich</title>
    <meta name="description" content="Gamwich is a self-hosted family household management app — calendars, chores, grocery lists, and notes on one screen. Privacy-first and open source.">
    <meta property="og:title" content="{{if .Title}}{{.Title}} - {{end}}Gamwich">
    <meta property="og:description" content="Your family's digital command center. Calendars, chores, grocery lists, and notes — self-hosted and private.">
    <meta property="og:type" content="website">
    <link rel="canonical" href="{{.BaseURL}}">
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.14/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-base-200 flex flex-col">
    <div class="navbar bg-base-100 shadow-sm">
        <div class="navbar-start">
            <a href="/" class="btn btn-ghost text-xl">Gamwich</a>
        </div>
        <div class="navbar-center hidden md:flex">
            <ul class="menu menu-horizontal px-1 gap-1">
                <li><a href="/features" class="{{if eq .ActiveNav "features"}}active{{end}}">Features</a></li>
                <li><a href="/pricing" class="{{if eq .ActiveNav "pricing"}}active{{end}}">Pricing</a></li>
            </ul>
        </div>
        <div class="navbar-end">
            {{if .AccountEmail}}
            <span class="text-sm text-base-content/60 mr-2 hidden sm:inline">{{.AccountEmail}}</span>
            <form method="POST" action="/logout">
                <button type="submit" class="btn btn-ghost btn-sm">Logout</button>
            </form>
            {{else}}
            <a href="/login" class="btn btn-ghost btn-sm hidden md:inline-flex">Login</a>
            <a href="/pricing" class="btn btn-primary btn-sm hidden md:inline-flex ml-2">Get Started</a>
            {{end}}
            <!-- Mobile menu -->
            <div class="dropdown dropdown-end md:hidden">
                <div tabindex="0" role="button" class="btn btn-ghost btn-sm">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                </div>
                <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
                    <li><a href="/features">Features</a></li>
                    <li><a href="/pricing">Pricing</a></li>
                    {{if .AccountEmail}}
                    <li><a href="/account">Account</a></li>
                    <li>
                        <form method="POST" action="/logout">
                            <button type="submit" class="w-full text-left">Logout</button>
                        </form>
                    </li>
                    {{else}}
                    <li><a href="/login">Login</a></li>
                    {{end}}
                </ul>
            </div>
        </div>
    </div>

    <main class="container mx-auto px-4 py-8 max-w-4xl flex-1">
        {{template "content" .}}
    </main>

    <footer class="footer footer-center p-10 bg-base-100 text-base-content">
        <nav class="grid grid-flow-col gap-4">
            <a href="/features" class="link link-hover">Features</a>
            <a href="/pricing" class="link link-hover">Pricing</a>
            <a href="https://github.com/dukerupert/gamwich" class="link link-hover" target="_blank" rel="noopener">GitHub</a>
        </nav>
        <aside>
            <p>Gamwich {{.Year}}</p>
        </aside>
    </footer>
</body>
</html>
{{end}}
